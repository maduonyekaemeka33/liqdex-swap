<!DOCTYPE html>
<html>
<head>
  <title>Crypto Price Dashboard</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    table { border-collapse: collapse; width: 100%; margin-top: 20px; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    th { background-color: #f2f2f2; }
    .green { color: green; font-weight: bold; }
    .red { color: red; font-weight: bold; }
  </style>
</head>
<body>
  <h2>Top Solana Coins (Exact Contract Address)</h2>
  <table id="price-table">
    <thead>
      <tr>
        <th>Coin</th>
        <th>Binance</th>
        <th>Coinbase</th>
        <th>Kraken</th>
        <th>24h Change</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
    // Solana token contract addresses (mint)
    const tokenContracts = {
      "BTC": "9n4nbM75f5Ui33ZbPYXn59EwSgE8CGsHtAeTH5YFeJ9E",
      "ETH": "2oFoZd1K3LJtZbqz8XYcM7FXhd7t2Jp9n2jz8EzvF5LQ",
      "BNB": "BNB_CONTRACT_ADDRESS_HERE",
      "SOL": "So11111111111111111111111111111111111111112",
      "DOGE": "DOGE_CONTRACT_ADDRESS_HERE"
    };

    const minLiquidity = 50000;
    const minVolume = 10000;
    const apiKey = "YOUR_BIRDEYE_API_KEY";

    async function fetchTopTokens() {
      const url = "https://public-api.birdeye.so/defi/v3/token/list?sort_by=price_change_24h&sort_type=desc&offset=0&limit=100";

      try {
        const res = await fetch(url, {
          headers: {
            "accept": "application/json",
            "x-chain": "solana",
            "X-API-KEY": apiKey
          }
        });

        const data = await res.json();
        if (!data.success) return console.error("API error:", data.message);

        // Filter only your tokens by contract address
        const topTokens = data.data.items
          .filter(token => Object.values(tokenContracts).includes(token.mint))
          .filter(token => token.liquidity >= minLiquidity && token.volume_24h_usd >= minVolume)
          .map(token => {
            const symbol = Object.keys(tokenContracts).find(key => tokenContracts[key] === token.mint);
            return {...token, symbol};
          });

        displayTokens(topTokens);

      } catch (err) {
        console.error("Fetch error:", err);
      }
    }

    async function displayTokens(tokens) {
      const tableBody = document.querySelector("#price-table tbody");
      tableBody.innerHTML = "";

      for (let token of tokens) {
        let prices = {};

        // Fetch prices from exchanges
        try { 
          const bin = await fetch(`https://api.binance.com/api/v3/ticker/price?symbol=${token.symbol}USDT`);
          const binData = await bin.json();
          prices.binance = parseFloat(binData.price);
        } catch { prices.binance = null; }

        try {
          const coin = await fetch(`https://api.coinbase.com/v2/prices/${token.symbol}-USD/spot`);
          const coinData = await coin.json();
          prices.coinbase = parseFloat(coinData.data.amount);
        } catch { prices.coinbase = null; }

        try {
          const krak = await fetch(`https://api.kraken.com/0/public/Ticker?pair=${token.symbol}USD`);
          const krakData = await krak.json();
          const key = Object.keys(krakData.result)[0];
          prices.kraken = parseFloat(krakData.result[key].c[0]);
        } catch { prices.kraken = null; }

        const change = parseFloat(token.price_change_24h) || 0;
        const changeColor = change >= 0 ? "green" : "red";

        tableBody.innerHTML += `
          <tr>
            <td>${token.symbol}</td>
            <td>${prices.binance ? prices.binance.toLocaleString() : "-"}</td>
            <td>${prices.coinbase ? prices.coinbase.toLocaleString() : "-"}</td>
            <td>${prices.kraken ? prices.kraken.toLocaleString() : "-"}</td>
            <td class="${changeColor}">${change.toLocaleString()}%</td>
          </tr>
        `;
      }
    }

    // Initial fetch + update every 10 seconds
    fetchTopTokens();
    setInterval(fetchTopTokens, 10000);
  </script>
</body>
</html>
